server {
    # Listen on port 80, which is the default HTTP port inside the container
    listen 80;

    # Set the root directory for serving static files
    root /usr/share/nginx/html;

    # Gzip compression for smaller file sizes
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

    # Try to serve files directly first
    location / {
        # Try to serve the requested URI. If it's a directory, try index.html.
        # This directive is the key for SPA routing:
        # If the file/path is not found ($uri is not found),
        # it falls back to serving /index.html
        try_files $uri $uri/ /index.html;
    }

    # Block access to hidden files like .git
    location ~ /\. {
        deny all;
    }
}